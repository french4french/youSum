<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <!-- Add the viewport meta tag for responsiveness -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Documentation API - YouSummarize - Guide complet pour utiliser l'API de résumé de vidéos YouTube avec IA">
    <title>Documentation API | YouSummarize</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="./assets/images/favicon.png">
    <style>
        :root {
            --font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif;
            --font-serif: 'Playfair Display', ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
            --font-mono: 'JetBrains Mono', ui-monospace, 'Courier New', monospace;
            --bg-color: #f0eee6;
            --card-bg-color: #ffffff;
            --text-color-main: #333333;
            --text-color-subtle: #656358;
            --border-color: #d0cec2;
            --accent-color: #4f46e5;
            --method-get: #22c55e;
            --method-post: #3b82f6;
        }
        html {
            /* Smooth scrolling for anchor links */
            scroll-behavior: smooth;
        }
        body {
            background-color: var(--bg-color);
            font-family: var(--font-sans);
            color: var(--text-color-main);
        }
        .font-serif { font-family: var(--font-serif); }
        .font-mono { font-family: var(--font-mono); }
        .bg-card { background-color: var(--card-bg-color); }
        .border-subtle { border-color: var(--border-color); }
        .accent { color: var(--accent-color); }
        .text-subtle { color: var(--text-color-subtle); }
        .method-get { background-color: var(--method-get); }
        .method-post { background-color: var(--method-post); }
        pre {
            background-color: #272822;
            color: #f8f8f2;
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1rem; /* p-4 */
            overflow-x: auto; /* Allows horizontal scrolling */
            font-size: 0.875rem; /* text-sm */
            margin: 1rem 0; /* my-4 */
            white-space: pre; /* Ensure preformatting is kept */
        }
        code {
            font-family: var(--font-mono);
        }
        /* Style for inline code snippets */
        .inline-code {
            background-color: #f0eee6; /* Slightly different background */
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem; /* rounded-sm */
            font-size: 0.875em; /* Slightly smaller than surrounding text */
            font-family: var(--font-mono);
            word-break: break-word; /* Break long code words if needed */
        }
        /* Sticky sidebar styling */
        .sticky-sidebar {
            position: sticky;
            top: 2rem; /* Adjust top spacing as needed */
            /* Ensure the sticky element knows its height context */
            align-self: start;
        }
        /* Target sections for smooth scroll offset */
        .api-section {
            /* Adjust this value based on your sticky header/nav height */
            scroll-margin-top: 3rem; /* Increased margin for better visibility */
        }
        /* Ensure tables are scrollable on small screens */
        .table-container {
            overflow-x: auto;
            width: 100%;
            margin-bottom: 1.5rem; /* mb-6 */
        }
        table {
            min-width: 100%; /* Ensure table tries to fill container */
            border-collapse: collapse; /* Better border handling */
        }
        th, td {
            border: 1px solid var(--border-color); /* Use defined border color */
            padding: 0.75rem 1rem; /* Adjusted padding (py-3 px-4) */
            text-align: left;
            vertical-align: top; /* Align content top */
        }
        thead {
            background-color: #f8f7f2; /* Lighter background for header */
        }
        tbody tr:nth-child(odd) {
            background-color: #ffffff;
        }
        tbody tr:nth-child(even) {
            background-color: #fdfcf9; /* Very subtle striping */
        }
        /* Style adjustments for Font Awesome icons */
        .fas {
            margin-right: 0.5rem; /* Add space between icon and text */
        }
        /* Ensure logo scales reasonably, max-width added */
        nav img {
            max-width: 180px; /* Limit logo width on smaller screens */
        }
        @media (min-width: 640px) { /* sm breakpoint */
            nav img {
                max-width: 200px; /* Restore original max width */
            }
        }
    </style>
</head>
<body class="min-h-screen">
<!-- Outer container with margin -->
<div class="bg-card m-2 md:m-4 rounded-2xl shadow-lg relative">
    <!-- Inner container with padding and max-width -->
    <div class="min-h-screen p-4 sm:p-6 md:p-8 font-sans mx-auto max-w-7xl">

        <!-- Navigation -->
        <nav class="w-full flex flex-wrap justify-between items-center gap-4 mb-10 md:mb-16">
            <a href="./index.html" class="flex gap-2 items-center flex-shrink-0">
                <img alt="YouSummarize Logo" width="180" height="54" src="./assets/images/logo.webp"/>
            </a>
            <a href="./index.html" class="px-3 sm:px-4 py-2 cursor-pointer flex gap-2 h-[40px] items-center justify-center rounded-xl hover:bg-[#E9E5D8] border border-subtle shadow-sm w-auto sm:w-fit text-sm transition duration-150 whitespace-nowrap">
                <i class="fas fa-home text-subtle m-0 sm:mr-2"></i>
                <span class="py-0 shrink-0 font-medium text-subtle hidden sm:inline">Retour à l'accueil</span>
            </a>
        </nav>

        <!-- Main Content -->
        <main class="mb-16">
            <div class="mb-8 text-center">
                <h1 class="font-serif text-3xl sm:text-4xl md:text-5xl font-bold mb-4">Documentation API</h1>
                <p class="text-subtle max-w-3xl mx-auto text-base sm:text-lg">Guide complet pour utiliser l'API de résumé de vidéos YouTube avec IA</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 max-w-6xl mx-auto">
                <!-- Sidebar Navigation -->
                <div class="md:col-span-1">
                    <div class="sticky-sidebar bg-card p-5 rounded-xl shadow-sm border border-subtle">
                        <h2 class="text-lg font-semibold mb-4">Sommaire</h2>
                        <ul class="space-y-3 text-sm">
                            <li>
                                <a href="#introduction" class="flex items-center text-subtle hover:text-accent transition-colors">
                                    <i class="fas fa-info-circle w-5 text-accent"></i>
                                    <span>Introduction</span>
                                </a>
                            </li>
                            <li>
                                <a href="#authentication" class="flex items-center text-subtle hover:text-accent transition-colors">
                                    <i class="fas fa-key w-5 text-accent"></i>
                                    <span>Authentification</span>
                                </a>
                            </li>
                            <li>
                                <a href="#endpoints" class="flex items-center text-subtle hover:text-accent transition-colors">
                                    <i class="fas fa-code w-5 text-accent"></i>
                                    <span>Endpoints</span>
                                </a>
                                <ul class="ml-5 mt-2 space-y-2">
                                    <li>
                                        <a href="#video-info" class="flex items-center text-subtle hover:text-accent transition-colors text-xs">
                                            <i class="fas fa-circle w-4 text-[6px] text-subtle mr-2"></i>
                                            <span>Informations vidéo</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#transcript" class="flex items-center text-subtle hover:text-accent transition-colors text-xs">
                                            <i class="fas fa-circle w-4 text-[6px] text-subtle mr-2"></i>
                                            <span>Transcription</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#summarize" class="flex items-center text-subtle hover:text-accent transition-colors text-xs">
                                            <i class="fas fa-circle w-4 text-[6px] text-subtle mr-2"></i>
                                            <span>Résumé</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#errors" class="flex items-center text-subtle hover:text-accent transition-colors">
                                    <i class="fas fa-exclamation-triangle w-5 text-accent"></i>
                                    <span>Erreurs</span>
                                </a>
                            </li>
                            <li>
                                <a href="#limits" class="flex items-center text-subtle hover:text-accent transition-colors">
                                    <i class="fas fa-tachometer-alt w-5 text-accent"></i>
                                    <span>Limites</span>
                                </a>
                            </li>
                            <li>
                                <a href="#examples" class="flex items-center text-subtle hover:text-accent transition-colors">
                                    <i class="fas fa-code w-5 text-accent"></i>
                                    <span>Exemples</span>
                                </a>
                            </li>
                            <li>
                                <a href="#selfhosting" class="flex items-center text-subtle hover:text-accent transition-colors">
                                    <i class="fas fa-server w-5 text-accent"></i>
                                    <span>Auto-hébergement</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- API Documentation Content -->
                <div class="md:col-span-3">

                    <div class="bg-card p-4 sm:p-6 md:p-8 rounded-xl shadow-md border border-subtle">
                        <!-- Introduction -->
                        <section id="introduction" class="mb-10 api-section">
                            <h2 class="text-xl sm:text-2xl font-semibold mb-4 pb-2 border-b border-subtle/50">Introduction</h2>
                            <p class="mb-4 text-sm sm:text-base">
                                L'API YouSummarize vous permet de générer automatiquement des résumés de vidéos YouTube en utilisant l'intelligence artificielle. Notre API offre un moyen programmatique d'accéder aux fonctionnalités principales de notre service.
                            </p>
                            <p class="mb-4 text-sm sm:text-base">
                                L'API peut être utilisée pour récupérer des informations sur une vidéo YouTube, extraire sa transcription et générer un résumé structuré de son contenu.
                            </p>
                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4">
                                <p class="text-blue-800 font-semibold flex items-center mb-2 text-sm sm:text-base">
                                    <i class="fas fa-info-circle mr-2"></i> URL de base de l'API
                                </p>

                                <div class="inline-code break-words">https://api.yoursitedomain.com</div>
                                <p class="text-blue-700 text-xs sm:text-sm mt-2">
                                    En local, l'API est accessible à <span class="inline-code break-words">http://localhost:3000</span>
                                </p>
                            </div>
                        </section>

                        <!-- Authentication -->
                        <section id="authentication" class="mb-10 api-section">
                            <h2 class="text-xl sm:text-2xl font-semibold mb-4 pb-2 border-b border-subtle/50">Authentification</h2>
                            <p class="mb-4 text-sm sm:text-base">
                                Actuellement, l'API YouSummarize ne nécessite pas d'authentification pour un usage local ou en développement. Pour un déploiement en production, il est recommandé d'implémenter une authentification API par clé.
                            </p>
                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <p class="text-yellow-800 font-semibold flex items-center text-sm sm:text-base">
                                    <i class="fas fa-exclamation-circle mr-2"></i> Note importante
                                </p>
                                <p class="text-yellow-700 text-xs sm:text-sm mt-2">
                                    Bien que l'API ne nécessite pas d'authentification, elle utilise les API YouTube Data et Google Gemini, qui requièrent des clés API valides. Ces clés doivent être configurées dans le fichier <span class="inline-code">.env</span> de votre serveur.
                                </p>
                            </div>
                        </section>

                        <!-- Endpoints -->
                        <section id="endpoints" class="mb-10 api-section">
                            <h2 class="text-xl sm:text-2xl font-semibold mb-4 pb-2 border-b border-subtle/50">Endpoints</h2>

                            <!-- Video Info Endpoint -->
                            <section id="video-info" class="mb-10 pl-2 border-l-4 border-l-green-500 api-section">
                                <div class="flex flex-wrap items-center mb-4 gap-2">
                                    <span class="method-get text-white font-mono text-xs px-2 py-1 rounded">GET</span>
                                    <h3 class="text-lg sm:text-xl font-semibold">/api/video-info</h3>
                                </div>
                                <p class="mb-4 text-sm sm:text-base">
                                    Récupère les informations de base d'une vidéo YouTube, comme son titre, sa description, sa durée et sa chaîne.
                                </p>

                                <h4 class="text-base font-semibold mt-4 mb-2">Paramètres de requête</h4>

                                <div class="table-container">
                                    <table class="w-full border border-subtle rounded-lg text-xs sm:text-sm">
                                        <thead class="bg-[#f8f7f2]">
                                        <tr>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Paramètre</th>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Type</th>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Requis</th>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Description</th>
                                        </tr>
                                        </thead>
                                        <tbody class="divide-y divide-subtle/30">
                                        <tr>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2 font-mono break-words">videoId</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">string</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Oui</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">L'identifiant YouTube de la vidéo</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <h4 class="text-base font-semibold mt-6 mb-2">Exemple de requête</h4>
                                <pre><code class="language-bash">curl -X GET "http://localhost:3000/api/video-info?videoId=dQw4w9WgXcQ"</code></pre>

                                <h4 class="text-base font-semibold mt-6 mb-2">Exemple de réponse</h4>
                                <pre><code class="language-json">{
  "kind": "youtube#videoListResponse",
  "etag": "\"some-etag-value\"",
  "items": [
    {
      "kind": "youtube#video",
      "etag": "\"some-etag-value\"",
      "id": "dQw4w9WgXcQ",
      "snippet": {
        "publishedAt": "2009-10-25T06:57:33Z",
        "channelId": "UCuAXFkgsw1L7xaCfnd5JJOw",
        "title": "Rick Astley - Never Gonna Give You Up (Official Music Video)",
        "description": "The official music video for Rick Astley - Never Gonna Give You Up...",
        "thumbnails": {
          "default": { "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg", "width": 120, "height": 90 },
          "medium": { "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg", "width": 320, "height": 180 },
          "high": { "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg", "width": 480, "height": 360 }
        },
        "channelTitle": "Rick Astley",
        "tags": ["Rick Astley", "Never Gonna Give You Up", ...]
      },
      "contentDetails": {
        "duration": "PT3M33S",
        "dimension": "2d",
        "definition": "hd",
        "caption": "true",
        "licensedContent": true
      }
    }
  ],
  "pageInfo": {
    "totalResults": 1,
    "resultsPerPage": 1
  }
}</code></pre>
                            </section>

                            <!-- Transcript Endpoint -->
                            <section id="transcript" class="mb-10 pl-2 border-l-4 border-l-green-500 api-section">
                                <div class="flex flex-wrap items-center mb-4 gap-2">
                                    <span class="method-get text-white font-mono text-xs px-2 py-1 rounded">GET</span>
                                    <h3 class="text-lg sm:text-xl font-semibold">/api/transcript</h3>
                                </div>
                                <p class="mb-4 text-sm sm:text-base">
                                    Récupère la transcription textuelle d'une vidéo YouTube.
                                </p>

                                <h4 class="text-base font-semibold mt-4 mb-2">Paramètres de requête</h4>
                                <div class="table-container">
                                    <table class="w-full border border-subtle rounded-lg text-xs sm:text-sm">
                                        <thead class="bg-[#f8f7f2]">
                                        <tr>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Paramètre</th>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Type</th>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Requis</th>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Description</th>
                                        </tr>
                                        </thead>
                                        <tbody class="divide-y divide-subtle/30">
                                        <tr>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2 font-mono break-words">videoId</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">string</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Oui</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">L'identifiant YouTube de la vidéo</td>
                                        </tr>
                                        <tr>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2 font-mono break-words">language</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">string</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Non</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Code langue (fr, en, es). Défaut: fr</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <h4 class="text-base font-semibold mt-6 mb-2">Exemple de requête</h4>
                                <pre><code class="language-bash">curl -X GET "http://localhost:3000/api/transcript?videoId=dQw4w9WgXcQ&language=en"</code></pre>

                                <h4 class="text-base font-semibold mt-6 mb-2">Exemple de réponse</h4>
                                <pre><code class="language-json">{
  "transcript": "We're no strangers to love\nYou know the rules and so do I\nA full commitment's what I'm thinking of\nYou wouldn't get this from any other guy\nI just wanna tell you how I'm feeling\nGotta make you understand\nNever gonna give you up\nNever gonna let you down\nNever gonna run around and desert you\nNever gonna make you cry\nNever gonna say goodbye\nNever gonna tell a lie and hurt you\n..."
}</code></pre>
                            </section>

                            <!-- Summarize Endpoint -->
                            <section id="summarize" class="mb-10 pl-2 border-l-4 border-l-blue-500 api-section">
                                <div class="flex flex-wrap items-center mb-4 gap-2">
                                    <span class="method-post text-white font-mono text-xs px-2 py-1 rounded">POST</span>
                                    <h3 class="text-lg sm:text-xl font-semibold">/api/summarize</h3>
                                </div>
                                <p class="mb-4 text-sm sm:text-base">
                                    Génère un résumé structuré d'une vidéo YouTube en utilisant l'IA de Google Gemini.
                                </p>

                                <h4 class="text-base font-semibold mt-4 mb-2">Corps de la requête (JSON)</h4>
                                <div class="table-container">
                                    <table class="w-full border border-subtle rounded-lg text-xs sm:text-sm">
                                        <thead class="bg-[#f8f7f2]">
                                        <tr>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Paramètre</th>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Type</th>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Requis</th>
                                            <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Description</th>
                                        </tr>
                                        </thead>
                                        <tbody class="divide-y divide-subtle/30">
                                        <tr>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2 font-mono break-words">transcription</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">string</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Oui</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Transcription de la vidéo</td>
                                        </tr>
                                        <tr>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2 font-mono break-words">videoInfo</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">object</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Non</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Infos vidéo (titre, chaîne...)</td>
                                        </tr>
                                        <tr>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2 font-mono break-words">language</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">string</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Non</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Langue résumé (fr, en). Défaut: fr</td>
                                        </tr>
                                        <tr>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2 font-mono break-words">isShorter</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">boolean</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Non</td>
                                            <td class="px-3 py-2 sm:px-4 sm:py-2">Transcription partielle. Défaut: false</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <h4 class="text-base font-semibold mt-6 mb-2">Exemple de requête</h4>
                                <pre><code class="language-bash">curl -X POST "http://localhost:3000/api/summarize" \
  -H "Content-Type: application/json" \
  -d '{
    "transcription": "We're no strangers to love...",
    "videoInfo": {
      "title": "Rick Astley - Never Gonna Give You Up",
      "channelTitle": "Rick Astley",
      "publishedAt": "2009-10-25T06:57:33Z",
      "duration": "3m 33s"
    },
    "language": "fr"
  }'</code></pre>

                                <h4 class="text-base font-semibold mt-6 mb-2">Exemple de réponse</h4>
                                <pre><code class="language-json">{
  "candidates": [
    {
      "content": {
        "parts": [
          {
            "text": "# Résumé de \"Rick Astley - Never Gonna Give You Up\"\n\n## Résumé détaillé\n\nCette vidéo présente le célèbre clip musical...\n\n... (reste du résumé) ...\n\n## Points clés\n\n* Cette chanson est devenue un phénomène internet...\n\n## Références et personnes mentionnées\n\n* Rick Astley - Chanteur...\n\n## Actions recommandées\n\n* Écouter d'autres chansons de Rick Astley..."
          }
        ]
      }
    }
  ],
  "promptFeedback": { ... }
}</code></pre>
                            </section>
                        </section>

                        <!-- Error Handling -->
                        <section id="errors" class="mb-10 api-section">
                            <h2 class="text-xl sm:text-2xl font-semibold mb-4 pb-2 border-b border-subtle/50">Gestion des erreurs</h2>
                            <p class="mb-4 text-sm sm:text-base">
                                L'API utilise les codes d'état HTTP standard. En cas d'erreur, la réponse inclut un message explicatif.
                            </p>

                            <div class="table-container">
                                <table class="w-full border border-subtle rounded-lg text-xs sm:text-sm">
                                    <thead class="bg-[#f8f7f2]">
                                    <tr>
                                        <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Code</th>
                                        <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Description</th>
                                        <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Exemple</th>
                                    </tr>
                                    </thead>
                                    <tbody class="divide-y divide-subtle/30">
                                    <tr>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2 font-mono">200</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2">Succès</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2">La requête a réussi</td>
                                    </tr>
                                    <tr>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2 font-mono">400</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2">Mauvaise requête</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2"><code class="inline-code break-all">{"error": "ID vidéo requis"}</code></td>
                                    </tr>
                                    <tr>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2 font-mono">404</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2">Non trouvé</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2"><code class="inline-code break-all">{"error": "Vidéo non trouvée"}</code></td>
                                    </tr>
                                    <tr>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2 font-mono">500</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2">Erreur serveur</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2"><code class="inline-code break-all">{"error": "Erreur serveur", ...}</code></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </section>

                        <!-- Rate Limits -->
                        <section id="limits" class="mb-10 api-section">
                            <h2 class="text-xl sm:text-2xl font-semibold mb-4 pb-2 border-b border-subtle/50">Limites d'utilisation</h2>
                            <p class="mb-4 text-sm sm:text-base">
                                L'API YouSummarize n'impose pas de limites propres, mais dépend des limites des API Google (YouTube Data, Gemini).
                            </p>

                            <div class="table-container mb-6">
                                <table class="w-full border border-subtle rounded-lg text-xs sm:text-sm">
                                    <thead class="bg-[#f8f7f2]">
                                    <tr>
                                        <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">API</th>
                                        <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Limite (indicative)</th>
                                        <th class="px-3 py-2 sm:px-4 sm:py-2 font-semibold">Notes</th>
                                    </tr>
                                    </thead>
                                    <tbody class="divide-y divide-subtle/30">
                                    <tr>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2">YouTube Data</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2">10 000 unités/jour</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2">Consultez la <a href="https://developers.google.com/youtube/v3/getting-started" class="text-accent hover:underline" target="_blank" rel="noopener">doc YouTube</a>.</td>
                                    </tr>
                                    <tr>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2">Google Gemini</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2">Variable</td>
                                        <td class="px-3 py-2 sm:px-4 sm:py-2">Consultez la <a href="https://ai.google.dev/docs/quotas" class="text-accent hover:underline" target="_blank" rel="noopener">doc Gemini</a>.</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <p class="text-yellow-800 font-semibold flex items-center text-sm sm:text-base">
                                    <i class="fas fa-exclamation-circle mr-2"></i> Conseil d'optimisation
                                </p>
                                <p class="text-yellow-700 text-xs sm:text-sm mt-2">
                                    Mettez en cache les résultats fréquents pour réduire la consommation de quota des API tierces.
                                </p>
                            </div>
                        </section>

                        <!-- Examples -->
                        <section id="examples" class="mb-10 api-section">
                            <h2 class="text-xl sm:text-2xl font-semibold mb-4 pb-2 border-b border-subtle/50">Exemples d'intégration</h2>

                            <h3 class="text-lg sm:text-xl font-semibold mt-6 mb-4">Exemple Node.js complet</h3>
                            <p class="mb-4 text-sm sm:text-base">
                                Utilisation de l'API avec Node.js pour résumer une vidéo :
                            </p>
                            <pre><code class="language-javascript">const axios = require('axios');

// Configuration
const API_BASE_URL = 'http://localhost:3000';
const YOUTUBE_VIDEO_ID = 'dQw4w9WgXcQ';

async function summarizeYouTubeVideo(videoId, language = 'fr') {
  try {
    // 1. Get video info
    console.log('Fetching video info...');
    const videoInfoResponse = await axios.get(`${API_BASE_URL}/api/video-info?videoId=${videoId}`);
    const videoData = videoInfoResponse.data;
    const videoInfo = { /* ... extract info ... */ };
    console.log(`Video found: "${videoInfo.title}"`);

    // 2. Get transcript
    console.log('Fetching transcript...');
    const transcriptResponse = await axios.get(`${API_BASE_URL}/api/transcript?videoId=${videoId}&language=${language}`);
    const transcription = transcriptResponse.data.transcript;
    console.log(`Transcript fetched: ${transcription.length} chars`);

    // 3. Generate summary
    console.log('Generating summary...');
    const summarizeResponse = await axios.post(`${API_BASE_URL}/api/summarize`, {
      transcription, videoInfo, language
    });

    // 4. Display summary
    const summary = summarizeResponse.data.candidates[0].content.parts[0].text;
    console.log('\n=== SUMMARY ===\n');
    console.log(summary);
    return summary;

  } catch (error) {
    console.error('Error summarizing video:', error.response?.data?.error || error.message);
    throw error;
  }
}

// Helper function for duration (example)
function convertDuration(iso) { /* ... */ return '3m 33s'; }

// Run
summarizeYouTubeVideo(YOUTUBE_VIDEO_ID)
  .catch(err => console.error('Operation failed:', err));
</code></pre>

                            <h3 class="text-lg sm:text-xl font-semibold mt-8 mb-4">Exemple d'intégration frontend</h3>
                            <p class="mb-4 text-sm sm:text-base">
                                Intégration dans une app web frontend avec JavaScript vanilla :
                            </p>
                            <pre><code class="language-javascript">// Function to summarize a video
async function summarizeVideo(videoUrl, language = 'fr') {
  updateStatus('Extracting video ID...');
  const videoId = extractVideoId(videoUrl);
  if (!videoId) throw new Error('Invalid YouTube URL');

  // 1. Fetch video info
  updateStatus('Fetching video info...');
  const videoInfoResponse = await fetch(`/api/video-info?videoId=${videoId}`);
  if (!videoInfoResponse.ok) throw new Error('Failed to fetch video info');
  const videoData = await videoInfoResponse.json();
  const videoInfo = { /* ... extract info ... */ };

  // 2. Fetch transcript
  updateStatus('Fetching transcript...');
  const transcriptResponse = await fetch(`/api/transcript?videoId=${videoId}&language=${language}`);
  if (!transcriptResponse.ok) throw new Error('Failed to fetch transcript');
  const transcriptData = await transcriptResponse.json();
  const transcription = transcriptData.transcript;

  // 3. Generate summary
  updateStatus('Generating summary with AI...');
  const summarizeResponse = await fetch('/api/summarize', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ transcription, videoInfo, language })
  });
  if (!summarizeResponse.ok) throw new Error('Failed to generate summary');
  const summaryData = await summarizeResponse.json();
  const summary = summaryData.candidates[0].content.parts[0].text;

  // Update UI
  updateStatus('Summary generated!', 'success');
  displaySummary(summary, videoInfo, videoId);
  return summary;
}

// Helper: Extract video ID from URL
function extractVideoId(url) { /* ... regex matching ... */ }

// UI update functions
function updateStatus(message, type = 'info') { /* ... */ }
function displaySummary(summary, videoInfo, videoId) { /* ... */ }
function markdownToHtml(md) { /* ... basic conversion ... */ }

// Form event listener
document.getElementById('summarizeForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  // ... get values, call summarizeVideo, handle errors ...
});
</code></pre>
                        </section>

                        <!-- Self-hosting and customization -->
                        <section id="selfhosting" class="mb-10 api-section">
                            <h2 class="text-xl sm:text-2xl font-semibold mb-4 pb-2 border-b border-subtle/50">Auto-hébergement</h2>

                            <p class="mb-4 text-sm sm:text-base">
                                YouSummarize est open-source. Pour héberger votre instance :
                            </p>

                            <h3 class="text-lg font-semibold mt-6 mb-2">1. Prérequis</h3>
                            <ul class="list-disc ml-6 space-y-1 text-subtle mb-4 text-sm sm:text-base">
                                <li>Node.js (v14+)</li>
                                <li>npm (v6+)</li>
                                <li>Compte Google Cloud (API YouTube Data & Gemini)</li>
                                <li>Clés API valides</li>
                            </ul>

                            <h3 class="text-lg font-semibold mt-6 mb-2">2. Installation</h3>
                            <pre><code class="language-bash"># Clone repo
git clone https://github.com/votre-utilisateur/youSummarize.git
cd youSummarize

# Install dependencies
npm install

# Setup environment variables
cp .env.example .env
# Edit .env with your API keys</code></pre>

                            <h3 class="text-lg font-semibold mt-6 mb-2">3. Lancement</h3>
                            <pre><code class="language-bash">npm start</code></pre>
                            <p class="text-xs sm:text-sm text-subtle mt-2 mb-4">
                                API accessible à <span class="inline-code break-words">http://localhost:3000</span>
                            </p>

                            <h3 class="text-lg font-semibold mt-6 mb-2">4. Personnalisation</h3>
                            <p class="mb-4 text-sm sm:text-base">
                                Modifiez les fichiers clés comme :
                            </p>
                            <ul class="list-disc ml-6 space-y-1 text-subtle mb-4 text-sm sm:text-base">
                                <li><span class="inline-code break-words">services/transcript.js</span></li>
                                <li><span class="inline-code break-words">server.js</span></li>
                                <li><span class="inline-code break-words">.env</span></li>
                            </ul>

                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4">
                                <p class="text-blue-800 font-semibold flex items-center mb-2 text-sm sm:text-base">
                                    <i class="fas fa-code-branch mr-2"></i> Contribution
                                </p>
                                <p class="text-blue-700 text-xs sm:text-sm">
                                    Contributions bienvenues sur <a href="https://github.com/jp-fix/youSum" class="text-accent hover:underline" target="_blank" rel="noopener">GitHub</a>.
                                </p>
                            </div>
                        </section>

                        <!-- Conclusion -->
                        <section id="conclusion" class="api-section">
                            <h2 class="text-xl sm:text-2xl font-semibold mb-4 pb-2 border-b border-subtle/50">Conclusion</h2>
                            <p class="mb-4 text-sm sm:text-base">
                                L'API YouSummarize est une solution puissante pour résumer automatiquement les vidéos YouTube.
                            </p>
                            <p class="mb-6 text-sm sm:text-base">
                                Pour support, <a href="./contact.html" class="text-accent hover:underline">contactez-nous</a> ou visitez <a href="https://github.com/jp-fix/youSum" class="text-accent hover:underline" target="_blank" rel="noopener">GitHub</a>.
                            </p>


                            <div class="bg-[#f8f7f2] p-4 sm:p-6 rounded-lg border border-subtle flex flex-col sm:flex-row items-center justify-between gap-4">
                                <div class="text-center sm:text-left">
                                    <h3 class="font-semibold mb-1 sm:mb-2 text-base sm:text-lg">Prêt à commencer ?</h3>
                                    <p class="text-subtle text-sm sm:text-base">Essayez l'API pour résumer vos vidéos.</p>
                                </div>
                                <a href="./index.html" class="bg-accent text-white px-4 py-2 rounded-lg hover:opacity-80 transition-opacity whitespace-nowrap text-sm sm:text-base">
                                    Essayer YouSummarize
                                </a>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="border-t border-subtle/50 pt-8 pb-6 mt-12 lg:mt-16 text-xs text-subtle">

            <div class="flex flex-col sm:flex-row justify-between items-center gap-4">

                <div class="flex flex-wrap justify-center sm:justify-start items-center gap-x-3 gap-y-1">
                    <span>© <span id="currentYear"></span> YouSummarize</span>
                    <span class="hidden sm:inline">·</span>

                    <span>par <a href="https://github.com/jp-fix" target="_blank" rel="noopener noreferrer external" class="hover:text-main font-medium underline sm:no-underline">jp-fix</a></span>
                </div>
                
                <nav class="footer-links flex flex-wrap gap-x-4 gap-y-1 justify-center sm:justify-end mt-2 sm:mt-0">
                    <a href="./api-docs.html" class="hover:text-main transition">API Docs</a>
                    <a href="./privacy.html" class="hover:text-main transition">Confidentialité</a>
                    <a href="./terms.html" class="hover:text-main transition">Conditions</a>
                    <a href="./contact.html" class="hover:text-main transition">Contact</a>
                    <a href="./sitemap.html" class="hover:text-main transition">Plan du site</a>
                </nav>
            </div>
        </footer>
    </div>
</div>

<script>
    document.getElementById('currentYear').textContent = new Date().getFullYear();

    // Script for active section highlighting in sidebar (no changes needed for responsiveness)
    document.addEventListener('DOMContentLoaded', function() {
        const navLinks = document.querySelectorAll('.sticky-sidebar a[href^="#"]'); // Target only anchor links
        const sections = document.querySelectorAll('.api-section');

        // Use Intersection Observer for better performance than scroll event
        const observerOptions = {
            root: null, // relative to document viewport
            rootMargin: '-20% 0px -80% 0px', // Trigger when section is partially in view near the top
            threshold: 0 // Trigger as soon as element enters/leaves rootMargin
        };

        const observer = new IntersectionObserver((entries) => {
            let lastVisibleSectionId = null;

            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    lastVisibleSectionId = entry.target.id;
                }
            });

            // Update links based on the last visible section found
            navLinks.forEach(link => {
                const linkHref = link.getAttribute('href');
                const sectionId = linkHref.substring(1); // Remove '#'

                if (sectionId === lastVisibleSectionId) {
                    link.classList.remove('text-subtle');
                    link.classList.add('text-accent');
                    link.classList.add('font-semibold'); // Add emphasis
                } else {
                    link.classList.add('text-subtle');
                    link.classList.remove('text-accent');
                    link.classList.remove('font-semibold'); // Remove emphasis
                }
            });

        }, observerOptions);

        // Observe all sections
        sections.forEach(section => {
            observer.observe(section);
        });

        // Initial check in case a section is already in view on load
        // Slight delay to ensure layout is stable
        setTimeout(() => {
            let initialVisibleSectionId = null;
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                // Check if section top is within a reasonable range from viewport top
                if (rect.top >= 0 && rect.top <= window.innerHeight * 0.3) {
                    if (initialVisibleSectionId === null) { // Take the first one visible
                        initialVisibleSectionId = section.id;
                    }
                }
            });
            if(initialVisibleSectionId) {
                navLinks.forEach(link => {
                    const linkHref = link.getAttribute('href');
                    const sectionId = linkHref.substring(1);
                    if (sectionId === initialVisibleSectionId) {
                        link.classList.remove('text-subtle');
                        link.classList.add('text-accent');
                        link.classList.add('font-semibold');
                    } else {
                        link.classList.add('text-subtle');
                        link.classList.remove('text-accent');
                        link.classList.remove('font-semibold');
                    }
                });
            }
        }, 100);

    });
</script>
</body>
</html>